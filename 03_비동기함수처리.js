// ğŸŸ¦ promise ê°ì²´ 
    // [ê¸°ëŠ¥]
        // ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” ê°ì²´

    // [íŠ¹ì§•] 
        // node.js ì—ì„œ ë§ì´ ì“¸ ê²ƒ
        // â­'ë¹„ë™ê¸° ì²˜ë¦¬'â­ ë¥¼ í•  ë•Œ, promise ê°ì²´ë¥¼ ì‚¬ìš©. â­ 


    function testPromise(num) {

        // 'new Promise' ìƒì„±ì í•¨ìˆ˜ ë¶„ì„
            // new í•˜ë©´ > ë¹ˆ ê°ì²´ê°€ ìƒì„± â­â­â­
            // Promise ê°ì²´ë¥¼ ìƒì„± â­â­â­ 
            // ìƒì„±ì í•¨ìˆ˜ ì„ ì–¸ì´ ì—†ëŠ”ë°ë„ ê°€ëŠ¥â“â“â“â“â“ 

            // ë§¤ê°œë³€ìˆ˜ ì´ë¦„ì€ resolve, reject ì„ ì¤„ì—¬ì„œ ì‚¬ìš© 
            // ë§¤ê°œë³€ìˆ˜ëŠ” resolve, reject ë¥¼ ë°›ëŠ”ë°, 1) ë‘˜ ë‹¤ 'í•¨ìˆ˜' ì„ 
            // resolve : 1) í•¨ìˆ˜ì´ê³ , 2) ì²˜ë¦¬ ì™„ë£Œë˜ë©´, 'ë°˜í™˜' 
            // reject : 1) í•¨ìˆ˜ì´ê³  2) ì²˜ë¦¬í•˜ë‹¤, ì˜¤ë¥˜ë‚˜ë©´, ë°˜í™˜
        return new Promise(function(res, rej) {

            try {
    
                if (num > 10) 
                    rej ({date : "ìˆ«ìí¼"});
                    // if ì˜ ì¤‘ê´„í˜¸ê°€ ì—†ìœ¼ë©´ , ë°”ë¡œ ë°‘ ì½”ë“œ ê¹Œì§€ë§Œ! ì˜ì—­ì„ 
                // console.log(num)
    
                // ë°ì´í„°ë¥¼ ë°›ì•„ì˜¨ë‹¤ê³  ê°€ì •í•˜ì. 
                    // ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‹œê°„ì´ ì¢€ ìˆì„ ê²ƒ ì„. 
                    // ë°ì´í„°ë¥¼ ë‹¤ ê°€ì ¸ì˜¤ê³ , ì‘ì—…ì„ ì§„í–‰ì‹œì¼œì•¼ í•  ë•Œ, 
                
                setTimeout(function() {
                    res(num);      // 1 ì„ ë„£ìœ¼ë©´ 10 ì´ˆ ë’¤ì— 11 ì„ ë°˜í™˜â“â“â“ 
    
                }, num * 1000)
                

            } catch (error) {

                rej(error);
                    // ì˜¤ë¥˜ë‚˜ë©´, rej í•¨ìˆ˜ë¡œ, ì˜¤ë¥˜ êµ¬ë¬¸ì„ ë³´ë‚´ â­â­â­â­â­ 
                    // error ë‘ throw ë‘ ë­ê°€ ë‹¬ë¼? â“â“â“â“â“ 
                
            }

        }

        ) 
    }


    testPromise(8).then(function(date) {
        // console.log(date)
        // 8 ì°íˆê³  > 10ì´ˆ ë’¤ì— 18 ì°í˜ 
        // ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  > ì²˜ë¦¬í•  êµ¬ë¬¸ì„ ì—¬ê¸°ì— ì‘ì„±! â­â­â­ 
        // ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì²˜ë¦¬í•´ì•¼í•  ì‘ì—…ì„ ì—¬ê¸°ì—!!! â“â“â“â“â“â“â“â“â“â“ 

        // ì´ í•¨ìˆ˜ì˜ ë°˜í™˜ì€ promise ê°ì²´? 

        return testPromise(date);


        // res ë¥¼ ì‹¤í–‰í•˜ë©´ > then ë©”ì†Œë“œê°€ ì‹¤í–‰ëœë‹¤ (ì„±ê³µí–ˆì„ ë•Œ)
        // rej ë¥¼ ì‹¤í–‰í•˜ë©´ > catch ë©”ì†Œë“œê°€ ì‹¤í–‰ëœë‹¤.   (ì‹¤íŒ¨ í–ˆì„ ë•Œ)
    }).then(function(date) {
        // ì„±ê³µí–ˆì„ ë•Œ
        // console.log(date);

    }).catch(function(err) {
        // ì‹¤íŒ¨ í–ˆì„ ë•Œ
        // console.log(err);
    })


// ğŸŸ¦ then, ì´ë‘, catch ë¥¼ ì•ˆ ì“°ë©´? 

    // async, await êµ¬ë¬¸ 
        // ë‹¤ë§Œ, then, cath ë‘, async, await ëŠ” ê°™ì´ ì“°ì§€ë§ˆ!!!!! â­â­â­â­â­ 
        // ë‘˜ ë‹¤ ê°™ì´ ì“´ë‹¤ëŠ” ê±´, promise ê°ì²´ë¥¼ ì˜ ì´í•´ ëª» í–ˆë‹¤ëŠ” ê²ƒ. 

    // async await êµ¬ë¬¸
        // async ì™€ await ëŠ” ì§! ì´ë‹¤. ê°™ì´ ë¶™ì–´ ë‹¤ë‹Œë‹¤! â­â­â­â­â­
    async function asyncFun () {

        // ì™ ë§Œí•˜ë©´, try, catch ë¡œ ì˜¤ë¥˜ ì¡ìœ¼ë©´ì„œ ì‘ì—…í•´ â­â­â­â­â­ 
        try {
            let temp = await testPromise(5);
                // await ë’¤ì—, Promise ê°ì²´ë¥¼ ë„£ì–´ì¤€ë‹¤. 
                // ì‹¤í–‰ì´ ë˜ë©´, > ì €ê¸°ì—ì„œ ê¸°ë‹¤ë¦°ë‹¤. 
                // Promise ê°ì²´ëŠ” res ë‚˜ res ê°€ ì²˜ë¦¬ ë  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦¬ë‹¤ê°€ ë°‘ì— ê²ƒ ì‹¤í–‰
                console.log(temp);
                
                temp = await testPromise(temp);

                console.log(temp);
                // await + promise ë¥¼ ì‘ì„±í•˜ë©´ = promise ë¥¼ ê¸°ë‹¤ë¦¬ê³ , resolve ê°’ì„ ë°˜í™˜í•œë‹¤. â“â“â“â“â“

            console.log(1)

        } catch (error) {

        
        }

    }

asyncFun();

















